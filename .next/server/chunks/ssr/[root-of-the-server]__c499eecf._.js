module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},17755,a=>{"use strict";let b=(0,a.i(70106).default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);a.s(["MoreHorizontal",()=>b],17755)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},33508,a=>{"use strict";let b=(0,a.i(70106).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33508)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],87532)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},87654,a=>{"use strict";let b=(0,a.i(70106).default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);a.s(["RotateCcw",()=>b],87654)},16062,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(83490),e=a.i(5434),f=a.i(50944),g=a.i(81560),h=a.i(87532),i=a.i(15618),j=a.i(33508),k=a.i(17755),l=a.i(87654);let m=(0,a.i(70106).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var n=a.i(96221),o=a.i(33217),p=a.i(70025),q=a.i(37927);let r=[{id:"6994723c9a3d056f54b7e4a2",name:"Ingliz tili"},{id:"681dcb7444fa70421ae9fb9d",name:"Frontend dasturlash"}],s=()=>(0,b.jsxs)("tr",{className:"border-t border-border animate-pulse",children:[(0,b.jsx)("td",{className:"p-3 sm:p-4",children:(0,b.jsx)("div",{className:"h-4 rounded w-16 bg-muted"})}),(0,b.jsx)("td",{className:"p-3 sm:p-4",children:(0,b.jsx)("div",{className:"h-4 rounded w-16 bg-muted"})}),(0,b.jsx)("td",{className:"p-3 sm:p-4",children:(0,b.jsx)("div",{className:"h-4 rounded w-24 bg-muted"})}),(0,b.jsx)("td",{className:"p-3 sm:p-4",children:(0,b.jsx)("div",{className:"h-4 rounded w-12 bg-muted"})}),(0,b.jsx)("td",{className:"p-3 sm:p-4 text-right",children:(0,b.jsx)("div",{className:"h-4 w-4 rounded ml-auto bg-muted"})})]});a.s(["default",0,()=>{let a=(0,f.useRouter)(),t=(0,q.useQueryClient)(),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)({first_name:"",last_name:"",email:"",phone:"",password:"",course_id:r[0].id}),E="https://admin-crm.onrender.com",F=e.default.get("token"),{data:G=[],isLoading:H}=(0,o.useQuery)({queryKey:["teachers",w],queryFn:async()=>{let a=w?`${E}/api/teacher/get-all-teachers?status=${w}`:`${E}/api/teacher/get-all-teachers`,b=await d.default.get(a,{headers:{Authorization:`Bearer ${F}`}});return Array.isArray(b.data)?b.data:b.data?.data||[]},enabled:!!F}),I=(0,p.useMutation)({mutationFn:async a=>d.default.post(`${E}/api/teacher/create-teacher`,a,{headers:{Authorization:`Bearer ${F}`}}),onSuccess:()=>{t.invalidateQueries({queryKey:["teachers"]}),z(!1),D({first_name:"",last_name:"",email:"",phone:"",password:"",course_id:r[0].id})},onError:a=>{alert(a.response?.data?.message||"Xatolik!")}}),J=(0,p.useMutation)({mutationFn:async a=>d.default.delete(`${E}/api/teacher/fire-teacher`,{headers:{Authorization:`Bearer ${F}`},data:{_id:a}}),onSuccess:()=>{alert("Ustoz ishdan bo'shatildi"),t.invalidateQueries({queryKey:["teachers"]}),B(null)},onError:a=>{alert(a.response?.data?.message||"O'chirishda xatolik yuz berdi")}}),K=(0,p.useMutation)({mutationFn:async a=>d.default.post(`${E}/api/teacher/return-teacher`,{_id:a},{headers:{Authorization:`Bearer ${F}`}}),onSuccess:()=>{alert("Ustoz faoliyatga qaytarildi"),t.invalidateQueries({queryKey:["teachers"]}),B(null)},onError:a=>{alert(a.response?.data?.message||"Xatolik yuz berdi!")}}),L=(0,c.useMemo)(()=>Array.isArray(G)?G.filter(a=>`${a.first_name} ${a.last_name} ${a.email}`.toLowerCase().includes(u.toLowerCase())):[],[u,G]);return(0,b.jsxs)("div",{className:"w-full p-3 sm:p-6 min-h-screen text-foreground transition-colors duration-300",children:[(0,b.jsxs)("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center gap-4 mb-6",children:[(0,b.jsx)("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight",children:"Ustozlar ro'yxati"}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch gap-3 w-full xl:w-auto",children:[(0,b.jsxs)("div",{className:"relative flex-1 sm:w-64",children:[(0,b.jsx)(h.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:16}),(0,b.jsx)("input",{type:"text",placeholder:"Qidiruv...",value:u,onChange:a=>v(a.target.value),className:"w-full bg-secondary/50 border border-input rounded-lg py-2 pl-9 pr-4 text-xs sm:text-sm outline-none focus:ring-1 focus:ring-ring transition-all"})]}),(0,b.jsxs)("button",{onClick:()=>z(!0),className:"flex bg-primary text-primary-foreground items-center justify-center gap-2 px-4 py-2 rounded-lg text-xs sm:text-sm font-semibold hover:opacity-90 transition-all active:scale-95",children:[(0,b.jsx)(i.Plus,{size:16})," ",(0,b.jsx)("span",{className:"whitespace-nowrap",children:"Ustoz Qo'shish"})]}),(0,b.jsxs)("select",{value:w,onChange:a=>x(a.target.value),className:"bg-secondary/50 border border-input rounded-lg py-2 px-3 text-xs sm:text-sm outline-none cursor-pointer focus:ring-1 focus:ring-ring",children:[(0,b.jsx)("option",{value:"",children:"Barchasi"}),(0,b.jsx)("option",{value:"faol",children:"Faol"}),(0,b.jsx)("option",{value:"ishdan bo'shatilgan",children:"Nofaol"})]})]})]}),(0,b.jsx)("div",{className:"w-full overflow-x-auto border border-border rounded-xl shadow-sm scrollbar-hide",children:(0,b.jsxs)("table",{className:"w-full text-left min-w-[500px]",children:[(0,b.jsx)("thead",{className:"text-[10px] sm:text-xs uppercase text-muted-foreground border-b border-border",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-3 sm:p-4 font-medium",children:"Ism"}),(0,b.jsx)("th",{className:"p-3 sm:p-4 font-medium",children:"Familiya"}),(0,b.jsx)("th",{className:"p-3 sm:p-4 font-medium",children:"Email"}),(0,b.jsx)("th",{className:"p-3 sm:p-4 font-medium",children:"Holat"}),(0,b.jsx)("th",{className:"p-3 sm:p-4 text-right font-medium",children:"Amallar"})]})}),(0,b.jsx)("tbody",{className:"text-xs sm:text-sm",children:H?[...Array(10)].map((a,c)=>(0,b.jsx)(s,{},c)):L.map(c=>(0,b.jsxs)("tr",{className:"border-t border-border hover:bg-muted/30 transition-colors",children:[(0,b.jsx)("td",{className:"p-3 sm:p-4 font-medium truncate max-w-[100px]",children:c.first_name}),(0,b.jsx)("td",{className:"p-3 sm:p-4 text-muted-foreground truncate max-w-[100px]",children:c.last_name}),(0,b.jsx)("td",{className:"p-3 sm:p-4 text-muted-foreground truncate max-w-[150px]",children:c.email}),(0,b.jsx)("td",{className:"p-3 sm:p-4",children:(0,b.jsx)("span",{className:`px-2 py-0.5 rounded-full text-[9px] sm:text-[10px] uppercase font-bold tracking-wider ${"faol"===c.status?"text-emerald-500 bg-emerald-500/10":"text-destructive bg-destructive/10"}`,children:c.status})}),(0,b.jsxs)("td",{className:"p-3 sm:p-4 text-right relative",children:[(0,b.jsx)("button",{onClick:()=>B(A===c._id?null:c._id),className:"p-1.5 hover:bg-accent rounded-lg text-muted-foreground transition-colors",children:(0,b.jsx)(k.MoreHorizontal,{size:18})}),A===c._id&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 z-[90]",onClick:()=>B(null)}),(0,b.jsxs)("div",{className:"absolute right-4 mt-1 w-32 sm:w-40 bg-popover border border-border rounded-lg z-[100] shadow-xl py-1 animate-in fade-in zoom-in duration-150",children:["faol"===c.status?(0,b.jsxs)("button",{disabled:J.isPending,onClick:()=>{var a;return a=c._id,void(confirm("Ustozni ishdan bo'shatmoqchimisiz?")&&J.mutate(a))},className:"w-full flex items-center gap-2 px-3 py-2 text-[10px] sm:text-xs text-destructive hover:bg-destructive/10 transition-colors",children:[J.isPending?(0,b.jsx)(n.Loader2,{size:14,className:"animate-spin"}):(0,b.jsx)(g.Trash2,{size:14}),"O'chirish"]}):(0,b.jsxs)("button",{disabled:K.isPending,onClick:()=>{var a;return a=c._id,void K.mutate(a)},className:"w-full flex items-center gap-2 px-3 py-2 text-[10px] sm:text-xs text-emerald-500 hover:bg-emerald-500/10 transition-colors",children:[K.isPending?(0,b.jsx)(n.Loader2,{size:14,className:"animate-spin"}):(0,b.jsx)(l.RotateCcw,{size:14}),"Qaytarish"]}),(0,b.jsxs)("button",{onClick:()=>a.push(`/teachers/${c._id}`),className:"w-full flex items-center gap-2 px-3 py-2 text-[10px] sm:text-xs hover:bg-accent text-foreground transition-colors",children:[(0,b.jsx)(m,{size:14})," Ma'lumot"]})]})]})]})]},c._id))})]})}),y&&(0,b.jsx)("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-[200] p-2 sm:p-4",children:(0,b.jsxs)("div",{className:"bg-background border border-border w-full max-w-[450px] max-h-[95vh] overflow-y-auto rounded-xl p-5 sm:p-8 relative shadow-2xl animate-in zoom-in-95 duration-200",children:[(0,b.jsx)("button",{onClick:()=>z(!1),className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground transition-colors",children:(0,b.jsx)(j.X,{size:20})}),(0,b.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold mb-6",children:"Ustoz Qo'shish"}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),I.mutate(C)},className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4 text-left",children:[[{label:"Ism",key:"first_name",type:"text",placeholder:"Ali"},{label:"Familiya",key:"last_name",type:"text",placeholder:"Valiyev"},{label:"Email",key:"email",type:"email",placeholder:"you@example.com"},{label:"Telefon",key:"phone",type:"text",placeholder:"+998 90 123 45 67"},{label:"Parol",key:"password",type:"password",placeholder:"••••••••"}].map(a=>(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-muted-foreground",children:a.label}),(0,b.jsx)("input",{type:a.type,placeholder:a.placeholder,value:C[a.key],onChange:b=>D({...C,[a.key]:b.target.value}),className:"w-full bg-background border border-input rounded-lg px-3 py-2.5 text-xs sm:text-sm outline-none focus:ring-1 focus:ring-ring transition-all",required:!0})]},a.key)),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-muted-foreground",children:"Ustoz Sohasi"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("select",{value:C.course_id,onChange:a=>D({...C,course_id:a.target.value}),className:"w-full bg-background border border-input rounded-lg px-3 py-2.5 text-xs sm:text-sm outline-none focus:ring-1 focus:ring-ring appearance-none",children:r.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))}),(0,b.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-muted-foreground",children:(0,b.jsx)(k.MoreHorizontal,{size:14,className:"rotate-90"})})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-end pt-4 gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>z(!1),className:"px-4 py-2 rounded-lg text-xs sm:text-sm text-muted-foreground hover:bg-accent transition-colors",children:"Bekor qilish"}),(0,b.jsxs)("button",{type:"submit",disabled:I.isPending,className:"bg-primary text-primary-foreground px-6 py-2 rounded-lg text-xs sm:text-sm font-bold hover:opacity-90 transition-all active:scale-95 flex items-center gap-2",children:[I.isPending&&(0,b.jsx)(n.Loader2,{size:14,className:"animate-spin"}),"Saqlash"]})]})]})]})})]})}],16062)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__c499eecf._.js.map