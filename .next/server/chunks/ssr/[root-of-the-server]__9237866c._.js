module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},17755,a=>{"use strict";let b=(0,a.i(70106).default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);a.s(["MoreHorizontal",()=>b],17755)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},33508,a=>{"use strict";let b=(0,a.i(70106).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33508)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],87532)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},59722,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(83490),e=a.i(5434),f=a.i(87532),g=a.i(15618),h=a.i(17755),i=a.i(33508),j=a.i(96221),k=a.i(33217),l=a.i(70025),m=a.i(37927);let n=()=>(0,b.jsxs)("tr",{className:"border-t border-border animate-pulse",children:[(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("div",{className:"h-4 bg-muted rounded w-3/4 mx-auto"})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("div",{className:"h-4 bg-muted rounded w-3/4"})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("div",{className:"h-4 bg-muted rounded w-full"})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("div",{className:"h-4 bg-muted rounded w-12 mx-auto"})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("div",{className:"h-4 bg-muted rounded w-20"})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("div",{className:"h-4 bg-muted rounded w-20"})}),(0,b.jsx)("td",{className:"p-4 text-right",children:(0,b.jsx)("div",{className:"h-8 w-8 bg-muted rounded ml-auto"})})]});a.s(["default",0,()=>{let a=(0,m.useQueryClient)(),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)({name:"",teacher_id:"",course_id:"",start_date:""}),A="https://admin-crm.onrender.com",B=e.default.get("token"),{data:C=[],isLoading:D}=(0,k.useQuery)({queryKey:["groups",o,q],queryFn:async()=>{let a;if(o)a=await d.default.get(`${A}/api/group/search-teacher`,{headers:{Authorization:`Bearer ${B}`},params:{name:o}});else{let b=q?`${A}/api/group/get-all-group?status=${q}`:`${A}/api/group/get-all-group`;a=await d.default.get(b,{headers:{Authorization:`Bearer ${B}`}})}return a.data?.data||[]},enabled:!!B}),{data:E=[]}=(0,k.useQuery)({queryKey:["teachers-select"],queryFn:async()=>{let a=await d.default.get(`${A}/api/teacher/get-all-teachers`,{headers:{Authorization:`Bearer ${B}`}});return a.data?.data||[]},enabled:!!B&&w}),{data:F=[]}=(0,k.useQuery)({queryKey:["courses-select"],queryFn:async()=>{let a=await d.default.get(`${A}/api/course/get-all-courses`,{headers:{Authorization:`Bearer ${B}`}});return a.data?.data||[]},enabled:!!B&&w}),{data:G,isLoading:H}=(0,k.useQuery)({queryKey:["group-detail",s],queryFn:async()=>{let a=await d.default.get(`${A}/api/group/one-group/${s}`,{headers:{Authorization:`Bearer ${B}`}});return a.data?.data||a.data},enabled:!!s&&u}),I=(0,l.useMutation)({mutationFn:a=>d.default.post(`${A}/api/group/create-group`,a,{headers:{Authorization:`Bearer ${B}`}}),onSuccess:()=>{a.invalidateQueries({queryKey:["groups"]}),x(!1),z({name:"",teacher_id:"",course_id:"",start_date:""})},onError:()=>alert("Guruh qo'shishda xatolik yuz berdi")});return(0,b.jsxs)("div",{className:"w-full p-3 sm:p-6 min-h-screen text-foreground font-sans overflow-x-hidden",children:[(0,b.jsxs)("div",{className:"mb-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,b.jsx)("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight",children:"Guruhlar"}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-3 w-full md:w-auto",children:[(0,b.jsxs)("div",{className:"relative w-full md:w-64",children:[(0,b.jsx)(f.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:16}),(0,b.jsx)("input",{type:"text",placeholder:"Ustoz nomi...",className:"w-full border border-input rounded-lg py-2 pl-10 pr-4 text-sm outline-none focus:ring-1 focus:ring-ring transition-all",value:o,onChange:a=>p(a.target.value)})]}),(0,b.jsxs)("button",{onClick:()=>x(!0),className:"flex w-full sm:w-auto items-center justify-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg text-sm font-bold hover:opacity-90 transition-all active:scale-95 whitespace-nowrap",children:[(0,b.jsx)(g.Plus,{size:18})," Qo'shish"]})]})]}),(0,b.jsx)("div",{className:"border border-border rounded-xl overflow-hidden shadow-sm",children:(0,b.jsx)("div",{className:"overflow-x-auto w-full",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse min-w-[650px]",children:[(0,b.jsx)("thead",{className:"text-[11px] uppercase tracking-widest border-b border-border text-muted-foreground",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-4 w-12 text-center",children:"No"}),(0,b.jsx)("th",{className:"p-4",children:"Guruh nomi"}),(0,b.jsx)("th",{className:"p-4",children:"Ustoz"}),(0,b.jsx)("th",{className:"p-4 text-center",children:"O'quvchilar"}),(0,b.jsx)("th",{className:"p-4",children:"Boshlanish"}),(0,b.jsx)("th",{className:"p-4",children:"Tugash"}),(0,b.jsx)("th",{className:"p-4 text-right",children:"Amallar"})]})}),(0,b.jsx)("tbody",{className:"text-[13px] divide-y divide-border",children:D?[...Array(10)].map((a,c)=>(0,b.jsx)(n,{},c)):0===C.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:7,className:"p-12 text-center text-muted-foreground",children:"Hech qanday guruh topilmadi."})}):C.map((a,c)=>(0,b.jsxs)("tr",{className:"hover:bg-accent/30 transition-colors",children:[(0,b.jsx)("td",{className:"p-4 text-center text-muted-foreground",children:c+1}),(0,b.jsx)("td",{className:"p-4 font-semibold text-foreground",children:a.name}),(0,b.jsx)("td",{className:"p-4 text-muted-foreground",children:a.teacher?`${a.teacher.first_name} ${a.teacher.last_name}`:"Tayinlanmagan"}),(0,b.jsx)("td",{className:"p-4 text-center",children:(0,b.jsx)("span",{className:"bg-muted px-2 py-1 rounded text-foreground",children:a.students?.length||0})}),(0,b.jsx)("td",{className:"p-4 text-muted-foreground",children:a.started_group?new Date(a.started_group).toLocaleDateString():"---"}),(0,b.jsx)("td",{className:"p-4 text-muted-foreground",children:a.end_group?new Date(a.end_group).toLocaleDateString():(0,b.jsx)("span",{className:"text-emerald-500 font-medium italic text-[11px]",children:"Faol"})}),(0,b.jsx)("td",{className:"p-4 text-right",children:(0,b.jsx)("button",{onClick:()=>{t(a._id),v(!0)},className:"text-muted-foreground hover:text-foreground transition-colors p-1 rounded-md hover:bg-accent",children:(0,b.jsx)(h.MoreHorizontal,{size:20})})})]},a._id))})]})})}),w&&(0,b.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-[110] p-3 bg-black/60 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"border border-border w-full max-w-lg rounded-2xl p-5 sm:p-8 relative shadow-2xl animate-in fade-in zoom-in-95 duration-200 bg-background overflow-y-auto max-h-[95vh]",children:[(0,b.jsx)("button",{onClick:()=>x(!1),className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",children:(0,b.jsx)(i.X,{size:20})}),(0,b.jsx)("h2",{className:"text-lg sm:text-xl font-bold mb-6 text-foreground",children:"Guruh qo'shish"}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),I.mutate(y)},className:"space-y-4 sm:space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Guruh nomi"}),(0,b.jsx)("input",{required:!0,className:"w-full border border-input rounded-xl p-3 sm:p-4 text-sm outline-none focus:ring-1 focus:ring-ring transition-colors",placeholder:"Ingliz tili...",value:y.name,onChange:a=>z({...y,name:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Ustoz"}),(0,b.jsxs)("select",{required:!0,className:"w-full border border-input rounded-xl p-3 sm:p-4 text-sm outline-none focus:ring-1 focus:ring-ring appearance-none text-foreground",value:y.teacher_id,onChange:a=>z({...y,teacher_id:a.target.value}),children:[(0,b.jsx)("option",{value:"",children:"Ustozni tanlang"}),E.map(a=>(0,b.jsxs)("option",{value:a._id,children:[a.first_name," ",a.last_name]},a._id))]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Sana"}),(0,b.jsx)("input",{required:!0,type:"date",className:"w-full border border-input rounded-xl p-3 sm:p-4 text-sm outline-none focus:ring-1 focus:ring-ring text-foreground",value:y.start_date,onChange:a=>z({...y,start_date:a.target.value})})]}),(0,b.jsx)("div",{className:"pt-2 flex justify-end",children:(0,b.jsxs)("button",{type:"submit",disabled:I.isPending,className:"w-full sm:w-auto bg-primary text-primary-foreground font-semibold py-3 px-8 rounded-xl hover:opacity-90 transition-all active:scale-[0.98] flex items-center justify-center gap-2",children:[I.isPending&&(0,b.jsx)(j.Loader2,{size:18,className:"animate-spin"}),"Saqlash"]})})]})]})}),u&&(0,b.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-[110] p-3 bg-black/60 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"border border-border w-full max-w-lg rounded-2xl p-5 sm:p-8 relative shadow-2xl bg-background animate-in fade-in zoom-in-95 duration-200",children:[(0,b.jsx)("button",{onClick:()=>v(!1),className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",children:(0,b.jsx)(i.X,{size:24})}),H?(0,b.jsxs)("div",{className:"flex flex-col items-center py-10 gap-4",children:[(0,b.jsx)(j.Loader2,{className:"animate-spin text-primary",size:40}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Yuklanmoqda..."})]}):G?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold mb-6 italic text-foreground break-words",children:["Guruh: ",G.name]}),(0,b.jsxs)("div",{className:"grid gap-3 sm:gap-4",children:[(0,b.jsxs)("div",{className:"p-3 sm:p-4 rounded-xl border border-border bg-muted/30",children:[(0,b.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase mb-1 font-bold",children:"O'qituvchi"}),(0,b.jsxs)("p",{className:"font-medium text-foreground text-sm sm:text-base",children:[G.teacher?.first_name," ",G.teacher?.last_name||"Tayinlanmagan"]})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 p-3 sm:p-4 rounded-xl border border-border bg-muted/30",children:[(0,b.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase mb-1 font-bold",children:"Talabalar"}),(0,b.jsx)("p",{className:"text-lg sm:text-xl font-bold text-foreground",children:G.students?.length||0})]}),(0,b.jsxs)("div",{className:"flex-1 p-3 sm:p-4 rounded-xl border border-border bg-muted/30",children:[(0,b.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase mb-1 font-bold",children:"Holati"}),(0,b.jsx)("p",{className:"text-emerald-500 font-extrabold uppercase text-[10px] sm:text-xs",children:G.status||"Faol"})]})]})]})]}):(0,b.jsx)("p",{className:"text-center py-10 text-muted-foreground",children:"Ma'lumot topilmadi."}),(0,b.jsx)("button",{onClick:()=>v(!1),className:"w-full bg-secondary text-secondary-foreground font-bold py-3 rounded-xl mt-6 sm:mt-8 hover:bg-secondary/80 transition-all text-sm sm:text-base",children:"Yopish"})]})})]})}])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__9237866c._.js.map