module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},33508,a=>{"use strict";let b=(0,a.i(70106).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33508)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},17755,a=>{"use strict";let b=(0,a.i(70106).default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);a.s(["MoreHorizontal",()=>b],17755)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},99464,a=>{"use strict";let b=(0,a.i(70106).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);a.s(["Pencil",()=>b],99464)},36067,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(83490),e=a.i(5434),f=a.i(99464),g=a.i(81560),h=a.i(17755),i=a.i(33508),j=a.i(96221),k=a.i(33217),l=a.i(70025),m=a.i(37927);let n=()=>(0,b.jsxs)("tr",{className:"border-t border-zinc-200 dark:border-zinc-800 animate-pulse",children:[(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("div",{className:"h-4 bg-zinc-200 dark:bg-zinc-800 rounded w-3/4"})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("div",{className:"h-4 bg-zinc-200 dark:bg-zinc-800 rounded w-full"})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("div",{className:"h-4 bg-zinc-200 dark:bg-zinc-800 rounded w-12"})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("div",{className:"h-4 bg-zinc-200 dark:bg-zinc-800 rounded w-16"})}),(0,b.jsx)("td",{className:"p-4 text-right",children:(0,b.jsx)("div",{className:"h-8 w-16 bg-zinc-200 dark:bg-zinc-800 rounded ml-auto"})})]});a.s(["default",0,()=>{let a=(0,m.useQueryClient)(),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)({first_name:"",last_name:"",email:""}),w="https://admin-crm.onrender.com",x=e.default.get("token"),{data:y=[],isLoading:z}=(0,k.useQuery)({queryKey:["managers"],queryFn:async()=>{if(!w||!x)return[];let a=(await d.default.get(`${w}/api/staff/all-managers`,{headers:{Authorization:`Bearer ${x}`}})).data;return Array.isArray(a)?a:a?.data||[]},enabled:!!x&&!!w}),A=(0,l.useMutation)({mutationFn:async a=>d.default.post(`${w}/api/staff/edited-manager`,a,{headers:{Authorization:`Bearer ${x}`,"Content-Type":"application/json"}}),onSuccess:()=>{a.invalidateQueries({queryKey:["managers"]}),r(!1),alert("Muvaffaqiyatli saqlandi!")},onError:a=>{alert(a.response?.data?.message||"Tahrirlashda xatolik")}}),B=(0,l.useMutation)({mutationFn:async a=>d.default.delete(`${w}/api/staff/deleted-admin`,{headers:{Authorization:`Bearer ${x}`},data:{_id:a}}),onSuccess:()=>{a.invalidateQueries({queryKey:["managers"]}),p(null)},onError:()=>{alert("Xatolik yuz berdi")}});return(0,b.jsxs)("div",{className:"w-full p-3 sm:p-6 min-h-screen text-foreground",children:[(0,b.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,b.jsx)("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight",children:"Menejerlar ro'yxati"})}),(0,b.jsx)("div",{className:"w-full overflow-x-auto border border-zinc-800 rounded-xl text-card-foreground shadow-sm ",children:(0,b.jsxs)("table",{className:"w-full text-left min-w-[500px] sm:min-w-full",children:[(0,b.jsx)("thead",{className:"text-[10px] sm:text-xs uppercase text-muted-foreground font-medium border-b border-zinc-800",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-3 sm:p-4",children:"Ism"}),(0,b.jsx)("th",{className:"p-3 sm:p-4",children:"Familiya"}),(0,b.jsx)("th",{className:"p-3 sm:p-4",children:"Email"}),(0,b.jsx)("th",{className:"p-3 sm:p-4 text-right",children:"Amallar"})]})}),(0,b.jsx)("tbody",{className:"text-xs sm:text-sm",children:z?[...Array(10)].map((a,c)=>(0,b.jsx)(n,{},c)):y.map(a=>(0,b.jsxs)("tr",{className:"border-t border-zinc-800 hover:bg-muted/50 transition-colors",children:[(0,b.jsx)("td",{className:"p-3 sm:p-4",children:a.first_name}),(0,b.jsx)("td",{className:"p-3 sm:p-4",children:a.last_name}),(0,b.jsx)("td",{className:"p-3 sm:p-4 text-muted-foreground truncate max-w-[120px] sm:max-w-none",children:a.email}),(0,b.jsxs)("td",{className:"p-3 sm:p-4 text-right relative",children:[(0,b.jsx)("button",{onClick:()=>p(o===a._id?null:a._id),className:"p-2 hover:bg-muted rounded-md transition-colors inline-flex items-center justify-center",children:(0,b.jsx)(h.MoreHorizontal,{size:18})}),o===a._id&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>p(null)}),(0,b.jsxs)("div",{className:"absolute right-4 mt-2 w-32 sm:w-40 border bg-popover text-popover-foreground border-zinc-800 rounded-md z-50 shadow-lg overflow-hidden text-left animate-in fade-in zoom-in-95 duration-100",children:[(0,b.jsxs)("button",{className:"w-full px-3 py-2 text-[12px] sm:text-sm flex items-center gap-2 hover:bg-muted transition-colors border-b border-zinc-800",onClick:()=>{t(a),v({first_name:a.first_name,last_name:a.last_name,email:a.email}),r(!0),p(null)},children:[(0,b.jsx)(f.Pencil,{size:14})," Tahrirlash"]}),(0,b.jsxs)("button",{onClick:()=>{var b;return b=a._id,void(confirm("O'chirmoqchimisiz?")&&B.mutate(b))},className:"w-full px-3 py-2 text-[12px] sm:text-sm flex items-center gap-2 hover:bg-destructive/10 text-destructive transition-colors",children:[(0,b.jsx)(g.Trash2,{size:14})," O'chirish"]})]})]})]})]},a._id))})]})}),q&&(0,b.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-[200] backdrop-blur-sm p-4",children:(0,b.jsxs)("div",{className:"bg-background text-foreground p-5 sm:p-6 rounded-lg w-full max-w-[280px] xs:max-w-md border border-zinc-800 shadow-xl animate-in fade-in zoom-in duration-200",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h2",{className:"text-base sm:text-lg font-semibold tracking-tight",children:"Menejerni tahrirlash"}),(0,b.jsx)("button",{onClick:()=>r(!1),className:"text-muted-foreground hover:text-foreground transition-colors",children:(0,b.jsx)(i.X,{size:20})})]}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),s&&A.mutate({_id:s._id,first_name:u.first_name,last_name:u.last_name,email:u.email,status:s.status})},className:"flex flex-col gap-4",children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-[12px] sm:text-sm font-medium leading-none text-muted-foreground",children:"Ism"}),(0,b.jsx)("input",{required:!0,className:"w-full border border-zinc-800 p-2 sm:p-2.5 rounded-md text-sm outline-none focus:ring-2 focus:ring-ring transition-all",value:u.first_name,onChange:a=>v({...u,first_name:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-[12px] sm:text-sm font-medium leading-none text-muted-foreground",children:"Familiya"}),(0,b.jsx)("input",{required:!0,className:"w-full border border-zinc-800 p-2 sm:p-2.5 rounded-md text-sm outline-none focus:ring-2 focus:ring-ring transition-all",value:u.last_name,onChange:a=>v({...u,last_name:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-[12px]  sm:text-sm font-medium leading-none text-muted-foreground",children:"Email"}),(0,b.jsx)("input",{required:!0,type:"email",className:"w-full  border border-zinc-800 p-2 sm:p-2.5 rounded-md text-sm outline-none opacity-60 cursor-not-allowed",value:u.email,disabled:!0})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 mt-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>r(!1),className:"order-2 sm:order-1 flex-1 bg-secondary text-secondary-foreground hover:bg-secondary/80 py-2 sm:py-2.5 rounded-md text-sm font-medium transition-colors border border-zinc-800",children:"Bekor qilish"}),(0,b.jsxs)("button",{type:"submit",disabled:A.isPending,className:"order-1 sm:order-2 flex-1 bg-primary text-primary-foreground hover:bg-primary/90 py-2 sm:py-2.5 rounded-md text-sm font-medium transition-colors shadow-sm flex items-center justify-center gap-2",children:[A.isPending&&(0,b.jsx)(j.Loader2,{size:16,className:"animate-spin"}),"Saqlash"]})]})]})]})})]})}])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__9492744e._.js.map