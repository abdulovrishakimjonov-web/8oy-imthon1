(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},10373,e=>{"use strict";e.i(47167);var t=e.i(43476),s=e.i(71645),a=e.i(81949),l=e.i(17595),r=e.i(55436),i=e.i(7233),n=e.i(75254);let c=(0,n.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var d=e.i(87316);let o=(0,n.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var x=e.i(37727);e.s(["default",0,()=>{let[e,n]=(0,s.useState)([]),[m,u]=(0,s.useState)(""),[h,p]=(0,s.useState)("2025-05"),[b,f]=(0,s.useState)(!1),[j,v]=(0,s.useState)({student:"",group:"",amount:"",month:"2026-02",method:"Naqd",date:new Date().toISOString().split("T")[0]}),N="https://admin-crm.onrender.com",y=l.default.get("token"),g=(0,s.useCallback)(async()=>{if(y)try{let e=(await a.default.get(`${N}/api/payment/get-debtors-student`,{headers:{Authorization:`Bearer ${y}`},params:{month:h}})).data;n(Array.isArray(e)?e:e?.data||[])}catch(e){console.error("Qarzdorlarni yuklashda xato:",e),n([])}},[N,h,y]),z=async e=>{if(u(e),e.length<3){0===e.length&&g();return}try{let t=(await a.default.get(`${N}/api/payment/search-student`,{headers:{Authorization:`Bearer ${y}`},params:{name:e}})).data;n(Array.isArray(t)?t:t?.data||[])}catch(e){console.error("Qidiruvda xato:",e)}},w=async e=>{e.preventDefault(),console.log("Yuborilayotgan ma'lumot:",j),f(!1)};return(0,s.useEffect)(()=>{g()},[g]),(0,t.jsxs)("div",{className:"w-full p-4 sm:p-6 min-h-scree",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight text-white",children:"To'lovlar"}),(0,t.jsx)("p",{className:"text-sm mt-1 text-zinc-400",children:"Qarzdorlar monitoringi"})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4 w-full md:w-auto",children:[(0,t.jsxs)("div",{className:"flex items-center border border-zinc-800 rounded-xl px-3 py-2 bg-transparent",children:[(0,t.jsx)(d.Calendar,{size:18,className:"mr-2 text-zinc-400"}),(0,t.jsx)("input",{type:"month",value:h,onChange:e=>p(e.target.value),className:"bg-transparent outline-none text-sm cursor-pointer w-full text-white"})]}),(0,t.jsxs)("button",{onClick:()=>f(!0),className:"flex items-center justify-center gap-2 px-5 py-2.5 rounded-xl text-sm font-bold bg-white text-black hover:bg-zinc-200 transition-all active:scale-95",children:[(0,t.jsx)(i.Plus,{size:18})," To'lov qo'shish"]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(r.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500",size:18}),(0,t.jsx)("input",{type:"text",placeholder:"Talaba ismi bo'yicha qidirish...",value:m,onChange:e=>z(e.target.value),className:"w-full border border-zinc-800 rounded-xl py-3 pl-10 pr-4 text-sm outline-none focus:border-zinc-500 transition-all bg-transparent text-white"})]}),(0,t.jsx)("button",{className:"flex items-center justify-center border border-zinc-800 p-3 rounded-xl hover: transition-all text-zinc-400",children:(0,t.jsx)(c,{size:20})})]}),(0,t.jsx)("div",{className:"border border-zinc-800 rounded-3xl overflow-hidden /10",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-zinc-800 /40",children:[(0,t.jsx)("th",{className:"p-4 text-xs font-semibold uppercase text-zinc-500",children:"Talaba"}),(0,t.jsx)("th",{className:"p-4 text-xs font-semibold uppercase text-zinc-500",children:"Guruh"}),(0,t.jsx)("th",{className:"p-4 text-xs font-semibold uppercase text-zinc-500",children:"Miqdor"}),(0,t.jsx)("th",{className:"p-4 text-xs font-semibold uppercase text-zinc-500",children:"Oy"}),(0,t.jsx)("th",{className:"p-4 text-xs font-semibold uppercase text-zinc-500",children:"Usul"}),(0,t.jsx)("th",{className:"p-4 text-xs font-semibold uppercase text-right text-zinc-500",children:"Amallar"})]})}),(0,t.jsx)("tbody",{children:e.length>0?e.map(e=>(0,t.jsxs)("tr",{className:"border-b border-zinc-800/50  transition-all",children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"w-10 h-10 rounded-full  flex items-center justify-center font-bold uppercase border border-zinc-700 text-xs text-zinc-200",children:[e.student_name?.[0],e.student_surname?.[0]]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-semibold text-zinc-200 truncate",children:[e.student_name," ",e.student_surname]}),(0,t.jsxs)("p",{className:"text-[10px] text-zinc-500 font-mono",children:["ID: ",e._id.slice(-6)]})]})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:" px-3 py-1 rounded-lg text-xs text-zinc-300",children:e.group_name||"Guruhsiz"})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("span",{className:"text-rose-400 font-mono font-bold",children:[e.amount?.toLocaleString()," UZS"]})}),(0,t.jsx)("td",{className:"p-4 text-sm text-zinc-400",children:e.month}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-zinc-400",children:[(0,t.jsx)(o,{size:14}),e.payment_method||"Noma'lum"]})}),(0,t.jsx)("td",{className:"p-4 text-right",children:(0,t.jsx)("button",{className:"text-zinc-500 hover:text-white transition-all p-1",children:(0,t.jsx)(i.Plus,{size:20})})})]},e._id)):(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"p-10 text-center text-zinc-500 italic text-sm",children:"Qarzdorlar topilmadi."})})})]})})}),b&&(0,t.jsx)("div",{className:"fixed inset-0  flex items-center justify-center z-[110] p-4 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:" border border-zinc-800 w-full max-w-md rounded-2xl p-6 relative shadow-2xl",children:[(0,t.jsx)("button",{onClick:()=>f(!1),className:"absolute right-4 top-4 text-zinc-500 hover:text-white transition-colors",children:(0,t.jsx)(x.X,{size:20})}),(0,t.jsx)("h2",{className:"text-xl font-bold mb-6 text-white text-center",children:"Yangi to'lov qo'shish"}),(0,t.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"text-xs font-semibold text-zinc-400 uppercase",children:"Talaba"}),(0,t.jsx)("input",{type:"text",placeholder:"Talaba ismi bilan qidiring...",className:"w-full  border border-zinc-800 rounded-xl p-3 text-sm text-white outline-none focus:border-zinc-600",value:j.student,onChange:e=>v({...j,student:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"text-xs font-semibold text-zinc-400 uppercase",children:"Guruh"}),(0,t.jsx)("input",{type:"text",placeholder:"Guruh nomi bilan qidiring...",className:"w-full  border border-zinc-800 rounded-xl p-3 text-sm text-white outline-none focus:border-zinc-600",value:j.group,onChange:e=>v({...j,group:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"text-xs font-semibold text-zinc-400 uppercase",children:"To'lov miqdori"}),(0,t.jsx)("input",{type:"number",placeholder:"To'lov miqdori",className:"w-full  border border-zinc-800 rounded-xl p-3 text-sm text-white outline-none focus:border-zinc-600",value:j.amount,onChange:e=>v({...j,amount:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"text-xs font-semibold text-zinc-400 uppercase",children:"Oy"}),(0,t.jsx)("input",{type:"month",className:"w-full  border border-zinc-800 rounded-xl p-3 text-sm text-white outline-none focus:border-zinc-600 cursor-pointer",value:j.month,onChange:e=>v({...j,month:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"text-xs font-semibold text-zinc-400 uppercase",children:"To'lov usuli"}),(0,t.jsxs)("select",{className:"w-full  border border-zinc-800 rounded-xl p-3 text-sm text-white outline-none focus:border-zinc-600",value:j.method,onChange:e=>v({...j,method:e.target.value}),children:[(0,t.jsx)("option",{value:"Naqd",children:"Naqd"}),(0,t.jsx)("option",{value:"Karta",children:"Karta"}),(0,t.jsx)("option",{value:"P2P",children:"P2P"})]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"text-xs font-semibold text-zinc-400 uppercase",children:"Sana"}),(0,t.jsx)("input",{type:"date",className:"w-full  border border-zinc-800 rounded-xl p-3 text-sm text-white outline-none focus:border-zinc-600 cursor-pointer",value:j.date,onChange:e=>v({...j,date:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-6",children:[(0,t.jsx)("button",{type:"button",onClick:()=>f(!1),className:"flex-1  text-white font-semibold py-3 rounded-xl hover: transition-all",children:"Bekor qilish"}),(0,t.jsx)("button",{type:"submit",className:"flex-1 bg-white text-black font-semibold py-3 rounded-xl hover:bg-zinc-200 transition-all active:scale-[0.98]",children:"Saqlash"})]})]})]})})]})}],10373)}]);