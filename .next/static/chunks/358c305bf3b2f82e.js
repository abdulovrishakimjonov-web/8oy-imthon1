(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,89954,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566),i=e.i(17595),s=e.i(79533);function l(){let e=(0,a.useRouter)(),[l,o]=(0,r.useState)(""),[n,d]=(0,r.useState)(""),[u,c]=(0,r.useState)(!1),[m,x]=(0,r.useState)(""),p=async t=>{t.preventDefault(),c(!0),x("");try{let t=await fetch("/api/auth/sign-in",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,password:n})}),r=await t.json();if(!t.ok)throw Error(r.message||"Email yoki parol xato!");let a=r.data;a&&(localStorage.setItem("user",JSON.stringify(a)),a.role&&i.default.set("role",a.role,{expires:7})),e.push("/"),e.refresh()}catch(e){x(e.message)}finally{c(!1)}};return(0,t.jsxs)("div",{className:"w-full h-[90vh] flex items-center justify-center p-0! relative transition-colors duration-300",children:[(0,t.jsx)("div",{className:"absolute top-5 left-5",children:(0,t.jsx)(s.ModeToggle,{})}),(0,t.jsxs)("div",{className:"w-full max-w-md bg-card border border-border rounded-2xl p-8 shadow-2xl transition-all",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-foreground text-center mb-2",children:"Xush kelibsiz ðŸ‘‹"}),(0,t.jsx)("p",{className:"text-muted-foreground text-center mb-6 text-sm",children:"Tizimga kirish uchun ma'lumotlarni kiriting"}),(0,t.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground uppercase tracking-wider font-medium",children:"Email"}),(0,t.jsx)("input",{type:"email",className:"w-full mt-1 px-4 py-2.5 rounded-lg bg-secondary border border-input text-foreground focus:ring-2 focus:ring-ring outline-none transition-all placeholder:text-muted-foreground/50",placeholder:"admin@mail.com",value:l,onChange:e=>o(e.target.value),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground uppercase tracking-wider font-medium",children:"Parol"}),(0,t.jsx)("input",{type:"password",className:"w-full mt-1 px-4 py-2.5 rounded-lg bg-secondary border border-input text-foreground focus:ring-2 focus:ring-ring outline-none transition-all placeholder:text-muted-foreground/50",placeholder:"********",value:n,onChange:e=>d(e.target.value),required:!0})]}),m&&(0,t.jsx)("div",{className:"bg-destructive/10 border border-destructive/50 text-destructive text-xs p-3 rounded-lg animate-in fade-in duration-300",children:m}),(0,t.jsx)("button",{type:"submit",disabled:u,className:"w-full py-3 rounded-lg bg-primary text-primary-foreground font-bold hover:opacity-90 active:scale-[0.98] transition-all disabled:opacity-50 flex justify-center items-center shadow-md",children:u?(0,t.jsx)("div",{className:"h-5 w-5 border-2 border-current border-t-transparent rounded-full animate-spin"}):"Tizimga kirish"})]})]})]})}e.s(["default",()=>l])}]);