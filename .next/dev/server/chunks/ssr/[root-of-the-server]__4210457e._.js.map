{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Acer/Desktop/8-preact-end-main/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\nimport { motion } from \"framer-motion\";\nimport {\n  AreaChart,\n  Area,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n} from \"recharts\";\nimport {\n  Users,\n  GraduationCap,\n  Banknote,\n  Clock,\n  ArrowUpRight,\n  Zap,\n  Activity,\n  Globe,\n} from \"lucide-react\";\n\nconst Asosiy = () => {\n  // Dark mode muammosini hal qilish uchun mount holati\n  const [mounted, setMounted] = useState(false);\n\n  const [stats, setStats] = useState({\n    totalStudents: 0,\n    activeGroups: 0,\n    monthlyRevenue: 0,\n    debtorsCount: 0,\n  });\n  const [loading, setLoading] = useState(true);\n\n  const BASE_URL = process.env.NEXT_PUBLIC_BASE_URL || \"http://localhost:7070\";\n  const token = Cookies.get(\"token\");\n\n  useEffect(() => {\n    // Komponent brauzerda yuklanganda mounted'ni true qilamiz\n    setMounted(true);\n\n    const fetchDashboardData = async () => {\n      if (!token) return;\n      try {\n        const [groupsRes, studentsRes, paymentsRes] = await Promise.all([\n          axios.get(`${BASE_URL}/api/group/get-all-group`, {\n            headers: { Authorization: `Bearer ${token}` },\n          }),\n          axios.get(`${BASE_URL}/api/student/get-all-student`, {\n            headers: { Authorization: `Bearer ${token}` },\n          }),\n          axios.get(\n            `${BASE_URL}/api/payment/get-debtors-student?month=2026-02`,\n            { headers: { Authorization: `Bearer ${token}` } },\n          ),\n        ]);\n\n        setStats({\n          activeGroups: groupsRes.data?.data?.length || 0,\n          totalStudents: studentsRes.data?.data?.length || 0,\n          debtorsCount:\n            paymentsRes.data?.data?.length || paymentsRes.data?.length || 0,\n          monthlyRevenue: 45000000,\n        });\n      } catch (error) {\n        console.error(\"Dashboard xatosi:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchDashboardData();\n  }, [BASE_URL, token]);\n\n  // Agar komponent hali brauzerda to'liq yuklanmagan bo'lsa, hech narsa qaytarmaymiz\n  // Bu dark/light miltillashini 100% to'xtatadi\n  if (!mounted) {\n    return null;\n  }\n\n  return (\n    <div className=\"p-6 space-y-8 min-h-screen text-foreground relative overflow-hidden\">\n      <div className=\"absolute top-0 left-1/4 w-[600px] h-[600px] bg-primary/5 blur-[150px] rounded-full pointer-events-none animate-pulse\" />\n      <div className=\"absolute bottom-0 right-0 w-[400px] h-[400px] blur-[120px] rounded-full pointer-events-none\" />\n\n      <motion.div\n        initial={{ opacity: 0, y: -20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-4 border-b border-border pb-8\"\n      >\n        <div>\n          <div className=\"flex items-center gap-3 text-primary mb-2\">\n            <Activity size={18} className=\"animate-pulse\" />\n            <span className=\"text-[10px] font-black uppercase tracking-[0.3em] opacity-70\">\n              System Status: Active\n            </span>\n          </div>\n          <h1 className=\"text-4xl font-black tracking-tighter italic\">\n            DASH<span className=\"text-primary\">BOARD</span>\n          </h1>\n        </div>\n\n        <div className=\"flex gap-6 items-center\">\n          <div className=\"text-right border-r border-border pr-6 hidden sm:block\">\n            <p className=\"text-[9px] text-muted-foreground uppercase font-bold tracking-widest\">\n              Server Node\n            </p>\n            <p className=\"font-mono text-sm font-bold uppercase\">\n              Uzbekistan / Tashkent\n            </p>\n          </div>\n          <Zap\n            className=\"text-yellow-500 fill-yellow-500 animate-bounce\"\n            size={20}\n          />\n        </div>\n      </motion.div>\n\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 relative z-10\">\n        {[\n          {\n            label: \"Talabalar\",\n            val: stats.totalStudents,\n            icon: Users,\n            color: \"text-blue-500\",\n            bg: \"bg-blue-500/10\",\n          },\n          {\n            label: \"Guruhlar\",\n            val: stats.activeGroups,\n            icon: GraduationCap,\n            color: \"text-emerald-500\",\n            bg: \"bg-emerald-500/10\",\n          },\n          {\n            label: \"Qarzdorlar\",\n            val: stats.debtorsCount,\n            icon: Clock,\n            color: \"text-rose-500\",\n            bg: \"bg-rose-500/10\",\n          },\n          {\n            label: \"Oylik Tushum\",\n            val: stats.monthlyRevenue.toLocaleString(),\n            icon: Banknote,\n            color: \"text-amber-500\",\n            bg: \"bg-amber-500/10\",\n          },\n        ].map((card, i) => (\n          <motion.div\n            key={i}\n            whileHover={{ scale: 1.02 }}\n            className=\"relative p-6 bg-card border border-border rounded-2xl overflow-hidden shadow-sm\"\n          >\n            <div\n              className={`p-3 w-fit rounded-xl ${card.bg} ${card.color} mb-4`}\n            >\n              <card.icon size={22} />\n            </div>\n            <p className=\"text-[10px] uppercase font-bold text-muted-foreground tracking-widest\">\n              {card.label}\n            </p>\n            <h2 className=\"text-2xl font-black mt-1 tracking-tight\">\n              {loading ? \"...\" : card.val}\n            </h2>\n            <div className=\"absolute top-2 right-2 opacity-10\">\n              <card.icon size={60} />\n            </div>\n          </motion.div>\n        ))}\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 relative z-10\">\n        <motion.div className=\"lg:col-span-2 p-6 bg-card border border-border rounded-3xl shadow-sm\">\n          <div className=\"flex items-center justify-between mb-8\">\n            <h3 className=\"text-sm font-bold uppercase tracking-widest flex items-center gap-2\">\n              <Activity size={16} className=\"text-primary\" /> Oqim Analitikasi\n            </h3>\n          </div>\n\n          <div className=\"h-[250px] w-full\">\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\n              <AreaChart\n                data={[\n                  { n: \"Du\", v: 4000 },\n                  { n: \"Se\", v: 3000 },\n                  { n: \"Cho\", v: 5000 },\n                  { n: \"Pa\", v: 2780 },\n                  { n: \"Ju\", v: 1890 },\n                  { n: \"Sha\", v: 2390 },\n                ]}\n              >\n                <defs>\n                  <linearGradient id=\"colorValue\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                    <stop\n                      offset=\"5%\"\n                      stopColor=\"hsl(var(--primary))\"\n                      stopOpacity={0.3}\n                    />\n                    <stop\n                      offset=\"95%\"\n                      stopColor=\"hsl(var(--primary))\"\n                      stopOpacity={0}\n                    />\n                  </linearGradient>\n                </defs>\n                <CartesianGrid\n                  strokeDasharray=\"3 3\"\n                  stroke=\"hsl(var(--border))\"\n                  vertical={false}\n                />\n                <XAxis\n                  dataKey=\"n\"\n                  stroke=\"hsl(var(--muted-foreground))\"\n                  fontSize={10}\n                  axisLine={false}\n                  tickLine={false}\n                />\n                <Tooltip\n                  contentStyle={{\n                    backgroundColor: \"hsl(var(--card))\",\n                    border: \"1px solid hsl(var(--border))\",\n                    borderRadius: \"12px\",\n                  }}\n                />\n                <Area\n                  type=\"monotone\"\n                  dataKey=\"v\"\n                  stroke=\"hsl(var(--primary))\"\n                  strokeWidth={3}\n                  fillOpacity={1}\n                  fill=\"url(#colorValue)\"\n                />\n              </AreaChart>\n            </ResponsiveContainer>\n          </div>\n        </motion.div>\n\n        <div className=\"p-6 bg-card border border-border rounded-3xl relative overflow-hidden flex flex-col\">\n          <motion.div\n            animate={{ top: [\"-10%\", \"110%\"] }}\n            transition={{ duration: 4, repeat: Infinity, ease: \"linear\" }}\n            className=\"absolute left-0 w-full h-[2px] bg-primary/20 shadow-[0_0_15px_hsl(var(--primary))] z-20 pointer-events-none\"\n          />\n\n          <h3 className=\"text-sm font-bold uppercase mb-6 flex items-center gap-2\">\n            <Globe size={16} className=\"text-primary\" /> Tizim Jurnali\n          </h3>\n\n          <div className=\"space-y-4 flex-1\">\n            {[\n              { t: \"09:41\", m: \"Yangi guruh yaratildi\", c: \"text-primary\" },\n              { t: \"08:30\", m: \"To'lov qabul qilindi\", c: \"text-emerald-500\" },\n              {\n                t: \"07:15\",\n                m: \"Qarzdorlik xabari yuborildi\",\n                c: \"text-rose-500\",\n              },\n            ].map((log, i) => (\n              <div\n                key={i}\n                className=\"flex gap-3 text-[11px] font-mono border-l-2 border-muted pl-4 py-1\"\n              >\n                <span className=\"text-muted-foreground\">{log.t}</span>\n                <span className={log.c}>{log.m}</span>\n              </div>\n            ))}\n          </div>\n\n          <button className=\"w-full mt-6 py-3 bg-secondary text-secondary-foreground rounded-xl text-[10px] font-black uppercase tracking-widest hover:opacity-80 transition-all\">\n            To'liq Hisobot\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Asosiy;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAfA;;;;;;;;AA0BA,MAAM,SAAS;IACb,qDAAqD;IACrD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;QACjC,eAAe;QACf,cAAc;QACd,gBAAgB;QAChB,cAAc;IAChB;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,WAAW,sEAAoC;IACrD,MAAM,QAAQ,gKAAO,CAAC,GAAG,CAAC;IAE1B,IAAA,kNAAS,EAAC;QACR,0DAA0D;QAC1D,WAAW;QAEX,MAAM,qBAAqB;YACzB,IAAI,CAAC,OAAO;YACZ,IAAI;gBACF,MAAM,CAAC,WAAW,aAAa,YAAY,GAAG,MAAM,QAAQ,GAAG,CAAC;oBAC9D,gJAAK,CAAC,GAAG,CAAC,GAAG,SAAS,wBAAwB,CAAC,EAAE;wBAC/C,SAAS;4BAAE,eAAe,CAAC,OAAO,EAAE,OAAO;wBAAC;oBAC9C;oBACA,gJAAK,CAAC,GAAG,CAAC,GAAG,SAAS,4BAA4B,CAAC,EAAE;wBACnD,SAAS;4BAAE,eAAe,CAAC,OAAO,EAAE,OAAO;wBAAC;oBAC9C;oBACA,gJAAK,CAAC,GAAG,CACP,GAAG,SAAS,8CAA8C,CAAC,EAC3D;wBAAE,SAAS;4BAAE,eAAe,CAAC,OAAO,EAAE,OAAO;wBAAC;oBAAE;iBAEnD;gBAED,SAAS;oBACP,cAAc,UAAU,IAAI,EAAE,MAAM,UAAU;oBAC9C,eAAe,YAAY,IAAI,EAAE,MAAM,UAAU;oBACjD,cACE,YAAY,IAAI,EAAE,MAAM,UAAU,YAAY,IAAI,EAAE,UAAU;oBAChE,gBAAgB;gBAClB;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,qBAAqB;YACrC,SAAU;gBACR,WAAW;YACb;QACF;QACA;IACF,GAAG;QAAC;QAAU;KAAM;IAEpB,mFAAmF;IACnF,8CAA8C;IAC9C,IAAI,CAAC,SAAS;QACZ,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;;;;;0BACf,8OAAC;gBAAI,WAAU;;;;;;0BAEf,8OAAC,oMAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;oBAAG,GAAG,CAAC;gBAAG;gBAC9B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,WAAU;;kCAEV,8OAAC;;0CACC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,sNAAQ;wCAAC,MAAM;wCAAI,WAAU;;;;;;kDAC9B,8OAAC;wCAAK,WAAU;kDAA+D;;;;;;;;;;;;0CAIjF,8OAAC;gCAAG,WAAU;;oCAA8C;kDACtD,8OAAC;wCAAK,WAAU;kDAAe;;;;;;;;;;;;;;;;;;kCAIvC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAE,WAAU;kDAAuE;;;;;;kDAGpF,8OAAC;wCAAE,WAAU;kDAAwC;;;;;;;;;;;;0CAIvD,8OAAC,uMAAG;gCACF,WAAU;gCACV,MAAM;;;;;;;;;;;;;;;;;;0BAKZ,8OAAC;gBAAI,WAAU;0BACZ;oBACC;wBACE,OAAO;wBACP,KAAK,MAAM,aAAa;wBACxB,MAAM,6MAAK;wBACX,OAAO;wBACP,IAAI;oBACN;oBACA;wBACE,OAAO;wBACP,KAAK,MAAM,YAAY;wBACvB,MAAM,yOAAa;wBACnB,OAAO;wBACP,IAAI;oBACN;oBACA;wBACE,OAAO;wBACP,KAAK,MAAM,YAAY;wBACvB,MAAM,6MAAK;wBACX,OAAO;wBACP,IAAI;oBACN;oBACA;wBACE,OAAO;wBACP,KAAK,MAAM,cAAc,CAAC,cAAc;wBACxC,MAAM,sNAAQ;wBACd,OAAO;wBACP,IAAI;oBACN;iBACD,CAAC,GAAG,CAAC,CAAC,MAAM,kBACX,8OAAC,oMAAM,CAAC,GAAG;wBAET,YAAY;4BAAE,OAAO;wBAAK;wBAC1B,WAAU;;0CAEV,8OAAC;gCACC,WAAW,CAAC,qBAAqB,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,KAAK,KAAK,CAAC,KAAK,CAAC;0CAE/D,cAAA,8OAAC,KAAK,IAAI;oCAAC,MAAM;;;;;;;;;;;0CAEnB,8OAAC;gCAAE,WAAU;0CACV,KAAK,KAAK;;;;;;0CAEb,8OAAC;gCAAG,WAAU;0CACX,UAAU,QAAQ,KAAK,GAAG;;;;;;0CAE7B,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,KAAK,IAAI;oCAAC,MAAM;;;;;;;;;;;;uBAhBd;;;;;;;;;;0BAsBX,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,oMAAM,CAAC,GAAG;wBAAC,WAAU;;0CACpB,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAG,WAAU;;sDACZ,8OAAC,sNAAQ;4CAAC,MAAM;4CAAI,WAAU;;;;;;wCAAiB;;;;;;;;;;;;0CAInD,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,0LAAmB;oCAAC,OAAM;oCAAO,QAAO;8CACvC,cAAA,8OAAC,kKAAS;wCACR,MAAM;4CACJ;gDAAE,GAAG;gDAAM,GAAG;4CAAK;4CACnB;gDAAE,GAAG;gDAAM,GAAG;4CAAK;4CACnB;gDAAE,GAAG;gDAAO,GAAG;4CAAK;4CACpB;gDAAE,GAAG;gDAAM,GAAG;4CAAK;4CACnB;gDAAE,GAAG;gDAAM,GAAG;4CAAK;4CACnB;gDAAE,GAAG;gDAAO,GAAG;4CAAK;yCACrB;;0DAED,8OAAC;0DACC,cAAA,8OAAC;oDAAe,IAAG;oDAAa,IAAG;oDAAI,IAAG;oDAAI,IAAG;oDAAI,IAAG;;sEACtD,8OAAC;4DACC,QAAO;4DACP,WAAU;4DACV,aAAa;;;;;;sEAEf,8OAAC;4DACC,QAAO;4DACP,WAAU;4DACV,aAAa;;;;;;;;;;;;;;;;;0DAInB,8OAAC,8KAAa;gDACZ,iBAAgB;gDAChB,QAAO;gDACP,UAAU;;;;;;0DAEZ,8OAAC,8JAAK;gDACJ,SAAQ;gDACR,QAAO;gDACP,UAAU;gDACV,UAAU;gDACV,UAAU;;;;;;0DAEZ,8OAAC,kKAAO;gDACN,cAAc;oDACZ,iBAAiB;oDACjB,QAAQ;oDACR,cAAc;gDAChB;;;;;;0DAEF,8OAAC,4JAAI;gDACH,MAAK;gDACL,SAAQ;gDACR,QAAO;gDACP,aAAa;gDACb,aAAa;gDACb,MAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAOf,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,oMAAM,CAAC,GAAG;gCACT,SAAS;oCAAE,KAAK;wCAAC;wCAAQ;qCAAO;gCAAC;gCACjC,YAAY;oCAAE,UAAU;oCAAG,QAAQ;oCAAU,MAAM;gCAAS;gCAC5D,WAAU;;;;;;0CAGZ,8OAAC;gCAAG,WAAU;;kDACZ,8OAAC,6MAAK;wCAAC,MAAM;wCAAI,WAAU;;;;;;oCAAiB;;;;;;;0CAG9C,8OAAC;gCAAI,WAAU;0CACZ;oCACC;wCAAE,GAAG;wCAAS,GAAG;wCAAyB,GAAG;oCAAe;oCAC5D;wCAAE,GAAG;wCAAS,GAAG;wCAAwB,GAAG;oCAAmB;oCAC/D;wCACE,GAAG;wCACH,GAAG;wCACH,GAAG;oCACL;iCACD,CAAC,GAAG,CAAC,CAAC,KAAK,kBACV,8OAAC;wCAEC,WAAU;;0DAEV,8OAAC;gDAAK,WAAU;0DAAyB,IAAI,CAAC;;;;;;0DAC9C,8OAAC;gDAAK,WAAW,IAAI,CAAC;0DAAG,IAAI,CAAC;;;;;;;uCAJzB;;;;;;;;;;0CASX,8OAAC;gCAAO,WAAU;0CAAsJ;;;;;;;;;;;;;;;;;;;;;;;;AAOlL;uCAEe"}}]
}