{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Acer/Desktop/8-preact-end-main/app/%28main%29/students/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\nimport {\n  Search,\n  Plus,\n  MoreHorizontal,\n  X,\n  ChevronDown,\n  Loader2,\n  Users,\n  GraduationCap,\n  Phone,\n  BadgeCheck,\n  AlertTriangle,\n  Calendar,\n  Trash2,\n} from \"lucide-react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\ninterface Student {\n  _id: string;\n  first_name: string;\n  last_name: string;\n  phone: string;\n  status: \"faol\" | \"ta'tilda\" | \"yakunladi\" | string;\n}\n\nconst cx = (...c: Array<string | false | undefined | null>) =>\n  c.filter(Boolean).join(\" \");\n\nfunction useOnClickOutside(\n  ref: React.RefObject<HTMLElement>,\n  handler: () => void,\n) {\n  useEffect(() => {\n    const listener = (e: MouseEvent | TouchEvent) => {\n      const el = ref?.current;\n      if (!el || el.contains(e.target as Node)) return;\n      handler();\n    };\n    document.addEventListener(\"mousedown\", listener);\n    document.addEventListener(\"touchstart\", listener);\n    return () => {\n      document.removeEventListener(\"mousedown\", listener);\n      document.removeEventListener(\"touchstart\", listener);\n    };\n  }, [ref, handler]);\n}\n\nconst Badge = ({\n  tone = \"neutral\",\n  children,\n}: {\n  tone?: \"green\" | \"red\" | \"amber\" | \"blue\" | \"neutral\";\n  children: React.ReactNode;\n}) => {\n  const styles =\n    tone === \"green\"\n      ? \"bg-emerald-500/10 text-emerald-500 border-emerald-500/20\"\n      : tone === \"red\"\n        ? \"bg-rose-500/10 text-rose-500 border-rose-500/20\"\n        : tone === \"amber\"\n          ? \"bg-amber-500/10 text-amber-500 border-amber-500/20\"\n          : tone === \"blue\"\n            ? \"bg-blue-500/10 text-blue-500 border-blue-500/20\"\n            : \"bg-muted/50 text-muted-foreground border-border\";\n  return (\n    <span\n      className={cx(\n        \"inline-flex items-center gap-2 rounded-full border px-3 py-1 text-[10px] font-black uppercase tracking-widest whitespace-nowrap\",\n        styles,\n      )}\n    >\n      {children}\n    </span>\n  );\n};\n\nconst statusTone = (status: string) => {\n  const s = (status || \"\").toLowerCase();\n  if (s === \"faol\") return \"green\";\n  if (s.includes(\"ta'til\")) return \"amber\";\n  if (s.includes(\"yakun\")) return \"blue\";\n  return \"neutral\";\n};\n\nconst SkeletonRow = () => (\n  <tr className=\"border-t border-border/70\">\n    <td className=\"p-4\">\n      <div className=\"flex items-center gap-3\">\n        <div className=\"h-10 w-10 rounded-2xl bg-muted animate-pulse\" />\n        <div className=\"space-y-2\">\n          <div className=\"h-4 w-28 rounded-lg bg-muted animate-pulse\" />\n          <div className=\"h-3 w-40 rounded-lg bg-muted animate-pulse\" />\n        </div>\n      </div>\n    </td>\n    <td className=\"p-4\">\n      <div className=\"h-4 w-28 rounded-lg bg-muted animate-pulse\" />\n    </td>\n    <td className=\"p-4\">\n      <div className=\"h-4 w-28 rounded-lg bg-muted animate-pulse\" />\n    </td>\n    <td className=\"p-4\">\n      <div className=\"h-7 w-28 rounded-full bg-muted animate-pulse\" />\n    </td>\n    <td className=\"p-4 text-right\">\n      <div className=\"ml-auto h-9 w-12 rounded-2xl bg-muted animate-pulse\" />\n    </td>\n  </tr>\n);\n\nconst Students = () => {\n  const queryClient = useQueryClient();\n\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [activeMenu, setActiveMenu] = useState<string | null>(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [filterStatus, setFilterStatus] = useState(\"\");\n\n  const [formData, setFormData] = useState({\n    first_name: \"\",\n    last_name: \"\",\n    phone: \"\",\n  });\n\n  const BASE_URL = process.env.NEXT_PUBLIC_BASE_URL || \"http://localhost:7070\";\n  const token = Cookies.get(\"token\");\n\n  // Fetch Students\n  const { data: students = [], isLoading } = useQuery({\n    queryKey: [\"students\", filterStatus],\n    queryFn: async () => {\n      const url = filterStatus\n        ? `${BASE_URL}/api/student/get-all-students?status=${filterStatus}`\n        : `${BASE_URL}/api/student/get-all-students`;\n\n      const res = await axios.get(url, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      return Array.isArray(res.data) ? res.data : res.data?.data || [];\n    },\n    enabled: !!token,\n  });\n\n  // Create Student\n  const createMutation = useMutation({\n    mutationFn: async (newStudent: typeof formData) => {\n      return axios.post(`${BASE_URL}/api/student/create-student`, newStudent, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"students\"] });\n      setIsModalOpen(false);\n      setFormData({ first_name: \"\", last_name: \"\", phone: \"\" });\n    },\n    onError: () => alert(\"Qo'shishda xatolik\"),\n  });\n\n  // Delete Student\n  const deleteMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return axios.delete(`${BASE_URL}/api/student/delete-student`, {\n        headers: { Authorization: `Bearer ${token}` },\n        data: { _id: id },\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"students\"] });\n      setActiveMenu(null);\n    },\n    onError: () => alert(\"Xatolik\"),\n  });\n\n  // Leave/Return Student\n  const statusMutation = useMutation({\n    mutationFn: async ({ action, payload }: any) => {\n      const endpoint = action === \"return\" ? \"return-student\" : \"leave-student\";\n      return axios.post(`${BASE_URL}/api/student/${endpoint}`, payload, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"students\"] });\n      setActiveMenu(null);\n      alert(\"Muvaffaqiyatli bajarildi!\");\n    },\n    onError: (err: any) => {\n      alert(err.response?.data?.message || \"Amalda xatolik yuz berdi\");\n    },\n  });\n\n  const filtered = useMemo(() => {\n    const s = searchTerm.trim().toLowerCase();\n    const arr = Array.isArray(students) ? students : [];\n    if (!s) return arr;\n    return arr.filter((st: Student) =>\n      `${st.first_name} ${st.last_name} ${st.phone}`.toLowerCase().includes(s),\n    );\n  }, [students, searchTerm]);\n\n  const handleAddStudent = (e: React.FormEvent) => {\n    e.preventDefault();\n    createMutation.mutate(formData);\n  };\n\n  const handleDelete = (id: string) => {\n    if (confirm(\"Tasdiqlaysizmi?\")) deleteMutation.mutate(id);\n  };\n\n  const handleLeaveReturn = (student: Student) => {\n    if (student.status === \"ta'tilda\" || student.status === \"yakunladi\") {\n      if (!confirm(\"O'quvchini faol holatga qaytarishni tasdiqlaysizmi?\")) return;\n      statusMutation.mutate({\n        action: \"return\",\n        payload: { _id: student._id },\n      });\n    } else if (student.status === \"faol\") {\n      const days = prompt(\"Necha kunlik ta'til? (Masalan: 4)\", \"4\");\n      const reason = prompt(\"Sababi?\", \"Tobi yo'q\");\n      if (!days || !reason) return;\n      statusMutation.mutate({\n        action: \"leave\",\n        payload: {\n          student_id: student._id,\n          leave_days: days,\n          reason,\n        },\n      });\n    }\n  };\n\n  const ActionMenu = ({\n    student,\n    onClose,\n  }: {\n    student: Student;\n    onClose: () => void;\n  }) => {\n    const ref = useRef<HTMLDivElement>(null);\n    useOnClickOutside(ref, onClose);\n\n    const isReturnable = student.status === \"ta'tilda\" || student.status === \"yakunladi\";\n    const pendingForThis =\n      statusMutation.isPending &&\n      (statusMutation.variables?.payload?._id === student._id ||\n        statusMutation.variables?.payload?.student_id === student._id);\n\n    return (\n      <motion.div\n        ref={ref}\n        initial={{ opacity: 0, y: 8, scale: 0.98 }}\n        animate={{ opacity: 1, y: 0, scale: 1 }}\n        exit={{ opacity: 0, y: 8, scale: 0.98 }}\n        transition={{ duration: 0.14, ease: \"easeOut\" }}\n        className=\"absolute right-2 top-12 z-[120] w-56 overflow-hidden rounded-2xl border border-border bg-popover/85 text-popover-foreground shadow-xl backdrop-blur\"\n      >\n        <button\n          disabled={statusMutation.isPending}\n          onClick={() => handleLeaveReturn(student)}\n          className={cx(\n            \"w-full flex items-center justify-between gap-2 px-4 py-3 text-sm font-bold transition border-b border-border disabled:opacity-60\",\n            isReturnable ? \"text-emerald-500 hover:bg-emerald-500/10\" : \"text-amber-500 hover:bg-amber-500/10\",\n          )}\n        >\n          <span className=\"inline-flex items-center gap-2\">\n            <Calendar size={16} />\n            {isReturnable ? \"Faolga qaytarish\" : \"Ta'tilga chiqarish\"}\n          </span>\n          {pendingForThis && <Loader2 size={16} className=\"animate-spin\" />}\n        </button>\n\n        <button\n          disabled={deleteMutation.isPending && deleteMutation.variables === student._id}\n          onClick={() => handleDelete(student._id)}\n          className=\"w-full flex items-center justify-between gap-2 px-4 py-3 text-sm font-bold text-rose-500 hover:bg-rose-500/10 transition disabled:opacity-60\"\n        >\n          <span className=\"inline-flex items-center gap-2\">\n            <Trash2 size={16} />\n            O&apos;chirish\n          </span>\n          {deleteMutation.isPending && deleteMutation.variables === student._id && (\n            <Loader2 size={16} className=\"animate-spin\" />\n          )}\n        </button>\n      </motion.div>\n    );\n  };\n\n  return (\n    <div className=\"relative min-h-screen w-full p-4 sm:p-6 lg:p-8 text-foreground overflow-hidden\">\n      {/* accents */}\n      <div className=\"pointer-events-none absolute -top-24 left-1/2 h-[520px] w-[520px] -translate-x-1/2 rounded-full bg-primary/10 blur-[120px]\" />\n      <div className=\"pointer-events-none absolute -bottom-40 -right-24 h-[520px] w-[520px] rounded-full bg-blue-500/10 blur-[140px]\" />\n      <div className=\"pointer-events-none absolute -bottom-40 -left-24 h-[520px] w-[520px] rounded-full bg-emerald-500/10 blur-[140px]\" />\n\n      <div className=\"relative mx-auto max-w-6xl space-y-5\">\n        {/* Header */}\n        <div className=\"rounded-3xl border border-border bg-card/70 backdrop-blur supports-[backdrop-filter]:bg-card/50 p-5 sm:p-6 shadow-sm\">\n          <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4\">\n            <div>\n              <div className=\"flex items-center gap-2 text-primary\">\n                <GraduationCap size={18} />\n                <span className=\"text-[11px] font-black uppercase tracking-[0.25em] text-muted-foreground\">\n                  Students\n                </span>\n              </div>\n              <h1 className=\"mt-2 text-2xl sm:text-3xl font-black tracking-tight\">\n                Studentlar ro&apos;yxati\n              </h1>\n              <p className=\"mt-2 text-sm text-muted-foreground\">\n                Qidirish, filtr, qo&apos;shish va status amallari.\n              </p>\n            </div>\n\n            {/* Controls */}\n            <div className=\"flex flex-col sm:flex-row gap-2 sm:items-center w-full lg:w-auto\">\n              {/* Filter */}\n              <div className=\"relative w-full sm:w-[170px]\">\n                <select\n                  className=\"w-full appearance-none rounded-2xl border border-border bg-background/60 py-3 pl-4 pr-10 text-sm outline-none focus:ring-2 focus:ring-ring transition cursor-pointer\"\n                  value={filterStatus}\n                  onChange={(e) => setFilterStatus(e.target.value)}\n                >\n                  <option value=\"\">Barchasi</option>\n                  <option value=\"faol\">Faol</option>\n                  <option value=\"ta'tilda\">Ta&apos;tilda</option>\n                  <option value=\"yakunladi\">Yakunladi</option>\n                </select>\n                <ChevronDown\n                  className=\"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none\"\n                  size={16}\n                />\n              </div>\n\n              {/* Search */}\n              <div className=\"relative flex-1 sm:w-[320px]\">\n                <Search\n                  className=\"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground\"\n                  size={16}\n                />\n                <input\n                  type=\"text\"\n                  placeholder=\"Qidiruv: ism, tel...\"\n                  className=\"w-full rounded-2xl border border-border bg-background/60 py-3 pl-11 pr-11 text-sm outline-none focus:ring-2 focus:ring-ring transition\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                />\n                {!!searchTerm && (\n                  <button\n                    type=\"button\"\n                    onClick={() => setSearchTerm(\"\")}\n                    className=\"absolute right-3 top-1/2 -translate-y-1/2 rounded-xl border border-border bg-background/60 p-1.5 hover:bg-muted/60 transition\"\n                    aria-label=\"Clear\"\n                    title=\"Tozalash\"\n                  >\n                    <X size={14} />\n                  </button>\n                )}\n              </div>\n\n              {/* Add */}\n              <button\n                onClick={() => setIsModalOpen(true)}\n                className=\"inline-flex items-center justify-center gap-2 rounded-2xl bg-primary text-primary-foreground px-4 py-3 text-sm font-black hover:opacity-90 transition shadow-sm\"\n              >\n                <Plus size={16} />\n                Student qo&apos;shish\n              </button>\n            </div>\n          </div>\n\n          <div className=\"mt-4 flex items-center justify-between text-xs text-muted-foreground\">\n            <span className=\"inline-flex items-center gap-2\">\n              <Users size={14} />\n              Natija: <b className=\"text-foreground\">{filtered.length}</b>\n            </span>\n            <span className=\"font-mono\">{isLoading ? \"loading...\" : \"ready\"}</span>\n          </div>\n        </div>\n\n        {/* Table */}\n        <div className=\"rounded-3xl border border-border bg-card/70 backdrop-blur supports-[backdrop-filter]:bg-card/50 shadow-sm overflow-hidden\">\n          <div className=\"w-full overflow-x-auto\">\n            <table className=\"w-full min-w-[900px] text-left\">\n              <thead className=\"sticky top-0 z-10 bg-card/80 backdrop-blur border-b border-border\">\n                <tr className=\"text-[11px] uppercase text-muted-foreground font-black tracking-widest\">\n                  <th className=\"p-4\">Student</th>\n                  <th className=\"p-4\">Familiya</th>\n                  <th className=\"p-4\">Telefon</th>\n                  <th className=\"p-4\">Holat</th>\n                  <th className=\"p-4 text-right\">Amallar</th>\n                </tr>\n              </thead>\n\n              <tbody className=\"text-sm\">\n                {isLoading ? (\n                  Array.from({ length: 10 }).map((_, i) => <SkeletonRow key={i} />)\n                ) : filtered.length === 0 ? (\n                  <tr className=\"border-t border-border\">\n                    <td colSpan={5} className=\"p-10 text-center\">\n                      <div className=\"mx-auto max-w-md space-y-2\">\n                        <div className=\"mx-auto w-fit rounded-2xl border border-border bg-background/60 p-3\">\n                          <AlertTriangle className=\"text-muted-foreground\" />\n                        </div>\n                        <p className=\"font-black\">Hech narsa topilmadi</p>\n                        <p className=\"text-sm text-muted-foreground\">\n                          Qidiruv yoki filtrni o‘zgartirib ko‘ring.\n                        </p>\n                      </div>\n                    </td>\n                  </tr>\n                ) : (\n                  filtered.map((student: Student) => {\n                    const initials =\n                      `${student.first_name?.[0] || \"\"}${student.last_name?.[0] || \"\"}`.toUpperCase();\n\n                    return (\n                      <tr\n                        key={student._id}\n                        className=\"border-t border-border hover:bg-muted/40 transition-colors\"\n                      >\n                        <td className=\"p-4\">\n                          <div className=\"flex items-center gap-3\">\n                            <div className=\"h-10 w-10 rounded-2xl border border-border bg-background/60 flex items-center justify-center font-black\">\n                              {initials || \"S\"}\n                            </div>\n                            <div className=\"min-w-0\">\n                              <p className=\"font-bold truncate max-w-[220px]\">\n                                {student.first_name}\n                              </p>\n                              <p className=\"text-xs text-muted-foreground font-mono truncate max-w-[220px]\">\n                                {student._id}\n                              </p>\n                            </div>\n                          </div>\n                        </td>\n\n                        <td className=\"p-4\">\n                          <p className=\"font-medium text-muted-foreground\">\n                            {student.last_name}\n                          </p>\n                        </td>\n\n                        <td className=\"p-4\">\n                          <div className=\"flex items-center gap-2 text-muted-foreground\">\n                            <Phone size={14} />\n                            <span className=\"font-mono text-xs\">\n                              {student.phone || \"---\"}\n                            </span>\n                          </div>\n                        </td>\n\n                        <td className=\"p-4\">\n                          <Badge tone={statusTone(student.status)}>\n                            <span\n                              className={cx(\n                                \"h-2 w-2 rounded-full\",\n                                student.status === \"faol\"\n                                  ? \"bg-emerald-500\"\n                                  : student.status === \"ta'tilda\"\n                                    ? \"bg-amber-500\"\n                                    : student.status === \"yakunladi\"\n                                      ? \"bg-blue-500\"\n                                      : \"bg-zinc-400\",\n                              )}\n                            />\n                            {student.status}\n                          </Badge>\n                        </td>\n\n                        <td className=\"p-4 text-right relative\">\n                          <button\n                            onClick={() =>\n                              setActiveMenu(activeMenu === student._id ? null : student._id)\n                            }\n                            className=\"inline-flex items-center justify-center rounded-2xl border border-border bg-background/50 px-3 py-2 hover:bg-muted/60 transition\"\n                            aria-label=\"Menu\"\n                          >\n                            <MoreHorizontal size={18} />\n                          </button>\n\n                          <AnimatePresence>\n                            {activeMenu === student._id && (\n                              <ActionMenu\n                                student={student}\n                                onClose={() => setActiveMenu(null)}\n                              />\n                            )}\n                          </AnimatePresence>\n                        </td>\n                      </tr>\n                    );\n                  })\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        {/* Modal */}\n        <AnimatePresence>\n          {isModalOpen && (\n            <motion.div\n              className=\"fixed inset-0 z-[200] flex items-center justify-center p-4\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n            >\n              <div\n                className=\"absolute inset-0 bg-black/45\"\n                onClick={() => setIsModalOpen(false)}\n              />\n\n              <motion.div\n                initial={{ opacity: 0, y: 16, scale: 0.98 }}\n                animate={{ opacity: 1, y: 0, scale: 1 }}\n                exit={{ opacity: 0, y: 16, scale: 0.98 }}\n                transition={{ duration: 0.18, ease: \"easeOut\" }}\n                className=\"relative w-full max-w-lg rounded-3xl border border-border bg-card/80 backdrop-blur supports-[backdrop-filter]:bg-card/60 shadow-2xl overflow-hidden\"\n              >\n                <div className=\"flex items-center justify-between px-5 sm:px-6 py-4 border-b border-border\">\n                  <div>\n                    <h2 className=\"text-base sm:text-lg font-black tracking-tight\">\n                      Student qo&apos;shish\n                    </h2>\n                    <p className=\"text-xs text-muted-foreground mt-1\">\n                      Ism, familiya va telefon raqamini kiriting.\n                    </p>\n                  </div>\n\n                  <button\n                    onClick={() => setIsModalOpen(false)}\n                    className=\"inline-flex h-10 w-10 items-center justify-center rounded-2xl border border-border bg-background/50 hover:bg-muted/60 transition\"\n                    aria-label=\"Close\"\n                  >\n                    <X size={18} />\n                  </button>\n                </div>\n\n                <form onSubmit={handleAddStudent} className=\"p-5 sm:p-6 space-y-4\">\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <label className=\"text-[11px] font-black uppercase tracking-widest text-muted-foreground\">\n                        Ism\n                      </label>\n                      <input\n                        required\n                        placeholder=\"Ali\"\n                        className=\"w-full rounded-2xl border border-border bg-background/60 px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-ring transition\"\n                        value={formData.first_name}\n                        onChange={(e) =>\n                          setFormData({ ...formData, first_name: e.target.value })\n                        }\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <label className=\"text-[11px] font-black uppercase tracking-widest text-muted-foreground\">\n                        Familiya\n                      </label>\n                      <input\n                        required\n                        placeholder=\"Valiyev\"\n                        className=\"w-full rounded-2xl border border-border bg-background/60 px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-ring transition\"\n                        value={formData.last_name}\n                        onChange={(e) =>\n                          setFormData({ ...formData, last_name: e.target.value })\n                        }\n                      />\n                    </div>\n\n                    <div className=\"space-y-2 sm:col-span-2\">\n                      <label className=\"text-[11px] font-black uppercase tracking-widest text-muted-foreground\">\n                        Telefon\n                      </label>\n                      <input\n                        required\n                        placeholder=\"+998 90 123 45 67\"\n                        className=\"w-full rounded-2xl border border-border bg-background/60 px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-ring transition\"\n                        value={formData.phone}\n                        onChange={(e) =>\n                          setFormData({ ...formData, phone: e.target.value })\n                        }\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"flex flex-col sm:flex-row gap-2 pt-2\">\n                    <button\n                      type=\"button\"\n                      onClick={() => setIsModalOpen(false)}\n                      className=\"flex-1 rounded-2xl border border-border bg-background/50 px-4 py-3 text-sm font-bold hover:bg-muted/60 transition\"\n                    >\n                      Bekor qilish\n                    </button>\n\n                    <button\n                      type=\"submit\"\n                      disabled={createMutation.isPending}\n                      className=\"flex-1 rounded-2xl bg-primary text-primary-foreground px-4 py-3 text-sm font-black hover:opacity-90 transition shadow-sm inline-flex items-center justify-center gap-2 disabled:opacity-60\"\n                    >\n                      {createMutation.isPending && (\n                        <Loader2 size={16} className=\"animate-spin\" />\n                      )}\n                      Saqlash\n                    </button>\n                  </div>\n                </form>\n              </motion.div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n    </div>\n  );\n};\n\nexport default Students;"],"names":[],"mappings":"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"}}]
}