{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookair/Desktop/8-preact/app/%28main%29/teachers/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useParams, useRouter } from \"next/navigation\";\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\nimport {\n  DollarSign,\n  Users,\n  TrendingUp,\n  Calendar,\n  Phone,\n  Mail,\n  Briefcase,\n} from \"lucide-react\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport { useQuery } from \"@tanstack/react-query\";\n\ninterface TeacherDetail {\n  _id: string;\n  first_name: string;\n  last_name: string;\n  email: string;\n  phone: string;\n  status: string;\n  field?: string;\n  salary?: number;\n  createdAt?: string;\n  work_date?: string;\n  work_end?: string;\n  updatedAt?: string;\n  groups?: any[];\n}\n\nconst TeacherInfo = () => {\n  const { id } = useParams();\n  const router = useRouter();\n\n  const BASE_URL = process.env.NEXT_PUBLIC_BASE_URL;\n  const token = Cookies.get(\"token\");\n\n  const { data: teacher, isLoading: loading } = useQuery({\n    queryKey: [\"teacher\", id],\n    queryFn: async () => {\n      if (!token || !id) return null;\n      try {\n        const res = await axios.get(\n          `${BASE_URL}/api/teacher/get-teacher-by-id/${id}`,\n          {\n            headers: { Authorization: `Bearer ${token}` },\n          },\n        );\n        return res.data?.data || res.data;\n      } catch (err) {\n        const allRes = await axios.get(\n          `${BASE_URL}/api/teacher/get-all-teachers`,\n          {\n            headers: { Authorization: `Bearer ${token}` },\n          },\n        );\n        const found = (allRes.data?.data || allRes.data).find(\n          (t: any) => t._id === id,\n        );\n        return found || null;\n      }\n    },\n    enabled: !!id && !!token,\n  });\n\n  if (loading)\n    return (\n      <div className=\"min-h-screen  flex items-center justify-center text-foreground transition-colors duration-300\">\n        <LoadingOutlined className=\"text-3xl text-primary\" />\n      </div>\n    );\n\n  if (!teacher)\n    return (\n      <div className=\"text-foreground p-10  min-h-screen transition-colors duration-300\">\n        <div className=\"max-w-md mx-auto text-center border border-border p-8 rounded-2xl bg-card\">\n          <p className=\"text-muted-foreground\">\n            Ma'lumot topilmadi yoki xatolik yuz berdi.\n          </p>\n          <button\n            onClick={() => router.back()}\n            className=\"mt-4 text-sm text-primary hover:underline\"\n          >\n            Orqaga qaytish\n          </button>\n        </div>\n      </div>\n    );\n\n  const groupsCount = teacher.groups?.length || 0;\n  const studentsCount =\n    teacher.groups?.reduce(\n      (acc: number, group: any) => acc + (group.students?.length || 0),\n      0,\n    ) || 0;\n\n  return (\n    <div className=\"min-h-screen p-4 sm:p-6  text-foreground transition-colors duration-300\">\n      <div className=\"max-w-7xl mx-auto flex flex-col lg:flex-row gap-8\">\n        <div className=\"w-full lg:w-[400px] border border-border rounded-[2rem] p-8 bg-card shadow-sm h-fit\">\n          <div className=\"flex flex-col items-center text-center mb-8\">\n            <div className=\"w-24 h-24 bg-primary/10 text-primary border-4 border-primary/20 rounded-[2rem] flex items-center justify-center text-3xl font-bold mb-4 shadow-inner\">\n              {teacher.first_name?.[0]}\n              {teacher.last_name?.[0]}\n            </div>\n            <div>\n              <div className=\"flex items-center justify-center gap-2 mb-1\">\n                <h2 className=\"text-2xl font-bold tracking-tight\">\n                  {teacher.first_name} {teacher.last_name}\n                </h2>\n              </div>\n              <span className=\"inline-block bg-primary/10 text-primary text-[10px] px-3 py-1 rounded-full font-bold uppercase tracking-wider border border-primary/20\">\n                O'qituvchi\n              </span>\n              <p className=\"text-muted-foreground text-sm mt-2 font-medium\">\n                {teacher.email}\n              </p>\n            </div>\n          </div>\n\n          <div className=\"space-y-5\">\n            <InfoItem\n              icon={<Mail size={14} />}\n              label=\"Email\"\n              value={teacher.email}\n            />\n            <InfoItem\n              icon={<Phone size={14} />}\n              label=\"Telefon\"\n              value={teacher.phone}\n            />\n            <InfoItem\n              icon={<Briefcase size={14} />}\n              label=\"Mutaxassislik\"\n              value={teacher.field || \"Noma'lum\"}\n            />\n            <InfoItem\n              icon={\n                <div\n                  className={`w-2 h-2 rounded-full ${teacher.status === \"faol\" ? \"bg-emerald-500\" : \"bg-destructive\"}`}\n                />\n              }\n              label=\"Holat\"\n              value={teacher.status}\n              isStatus\n            />\n            <div className=\"pt-4 mt-4 border-t border-border space-y-4\">\n              <InfoItem\n                icon={<Calendar size={14} />}\n                label=\"Ish boshlagan\"\n                value={formatDate(teacher.work_date)}\n              />\n              <InfoItem\n                icon={<Calendar size={14} />}\n                label=\"Ro'yxatdan o'tgan\"\n                value={formatDate(teacher.createdAt)}\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex-1 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-2 gap-6 self-start\">\n          <StatCard\n            icon={<DollarSign className=\"text-primary\" />}\n            label=\"Oylik maosh\"\n            value={`${teacher.salary?.toLocaleString() || 0} So'm`}\n            trend=\"+0%\"\n          />\n          <StatCard\n            icon={<TrendingUp className=\"text-primary\" />}\n            label=\"Guruhlar soni\"\n            value={groupsCount.toString()}\n            trend=\"0\"\n          />\n          <StatCard\n            icon={<Users className=\"text-primary\" />}\n            label=\"Jami o'quvchilar\"\n            value={studentsCount.toString()}\n            trend=\"+0\"\n          />\n          <StatCard\n            icon={<Users className=\"text-primary\" />}\n            label=\"Aktiv o'quvchilar\"\n            value={studentsCount.toString()}\n            trend=\"0\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst InfoItem = ({ label, value, isStatus = false, icon }: any) => (\n  <div className=\"group\">\n    <div className=\"flex items-center gap-2 mb-1.5\">\n      <span className=\"text-muted-foreground\">{icon}</span>\n      <p className=\"text-[10px] uppercase font-bold tracking-widest text-muted-foreground/70\">\n        {label}\n      </p>\n    </div>\n    <p\n      className={`text-sm font-semibold pl-6 ${isStatus ? \"text-primary capitalize italic\" : \"text-foreground\"}`}\n    >\n      {value || \"---\"}\n    </p>\n  </div>\n);\n\nconst StatCard = ({ icon, label, value, trend }: any) => (\n  <div className=\"bg-card border border-border rounded-[1.5rem] p-6 hover:border-primary/30 transition-all shadow-sm group\">\n    <div className=\"flex items-start justify-between mb-4\">\n      <div className=\"p-4 rounded-2xl bg-primary/5 border border-primary/10 group-hover:bg-primary/10 transition-colors\">\n        {icon}\n      </div>\n      <div className=\"text-right\">\n        <p className=\"text-xs text-muted-foreground font-medium mb-1 uppercase tracking-tighter\">\n          {label}\n        </p>\n        <p className=\"text-2xl font-bold tracking-tight\">{value}</p>\n      </div>\n    </div>\n    <div className=\"flex items-center justify-between pt-4 border-t border-border/50\">\n      <div className=\"flex items-center gap-1 text-emerald-500 text-[10px] font-bold bg-emerald-500/10 px-2 py-0.5 rounded-full\">\n        <TrendingUp size={12} /> {trend}\n      </div>\n      <p className=\"text-[10px] text-muted-foreground uppercase font-bold tracking-widest\">\n        Hozirgi holat\n      </p>\n    </div>\n  </div>\n);\n\nconst formatDate = (dateString?: string) => {\n  if (!dateString) return \"---\";\n  return new Date(dateString).toLocaleDateString(\"uz-UZ\", {\n    month: \"short\",\n    day: \"numeric\",\n    year: \"numeric\",\n  });\n};\n\nexport default TeacherInfo;\n"],"names":[],"mappings":"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"}}]
}